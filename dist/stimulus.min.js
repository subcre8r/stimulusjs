/*! For license information please see stimulus.min.js.LICENSE.txt */
(()=>{var t={828:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:()=>p});var u,l,h,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,u,l=(r=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(r);if(u){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function h(){return i(this,h),l.apply(this,arguments)}return e=h,(n=[{key:"connect",value:function(){document.addEventListener("scroll",this.insert)}},{key:"insert",value:function(){var t=this;this.inView&&this.outputTarget.dataset.class.split(" ").forEach((function(e,n){t.outputTarget.classList.add(e)}))}},{key:"inView",value:function(){var t=window.innerHeight,e=window.scrollY||window.pageYOffset;return e+t>this.outputTarget.getBoundingClientRect().top+e+this.outputTarget.clientHeight}}])&&o(e.prototype,n),h}(n(931).Qr);h=["output"],(l="targets")in(u=p)?Object.defineProperty(u,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[l]=h},273:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:()=>p});var u,l,h,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,u,l=(r=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(r);if(u){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function h(){return i(this,h),l.apply(this,arguments)}return e=h,(n=[{key:"insert",value:function(){this.outputTargets.forEach((function(t,e){t.dataset.class.split(" ").forEach((function(e,n){t.classList.toggle(e)}))}))}}])&&o(e.prototype,n),h}(n(931).Qr);h=["output"],(l="targets")in(u=p)?Object.defineProperty(u,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[l]=h},580:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:()=>p});var u,l,h,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,u,l=(r=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(r);if(u){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function h(){return i(this,h),l.apply(this,arguments)}return e=h,(n=[{key:"copy",value:function(){if(document.selection)(t=document.body.createTextRange()).moveToElementText(this.textTarget),t.select().createTextRange(),document.execCommand("copy");else if(window.getSelection){var t;(t=document.createRange()).selectNode(this.textTarget),window.getSelection().addRange(t),document.execCommand("copy")}}}])&&o(e.prototype,n),h}(n(931).Qr);h=["text"],(l="targets")in(u=p)?Object.defineProperty(u,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[l]=h},507:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:()=>p});var u,l,h,p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,u,l=(r=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(r);if(u){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return a(this,t)});function h(){return i(this,h),l.apply(this,arguments)}return e=h,(n=[{key:"greet",value:function(){this.outputTarget.textContent="Hello"}}])&&o(e.prototype,n),h}(n(931).Qr);h=["output"],(l="targets")in(u=p)?Object.defineProperty(u,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[l]=h},642:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ze});var r=n(931);class i{valueOf(){}liquidMethodMissing(t){}}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const s=Object.prototype.toString,a=String.prototype.toLowerCase;function c(t){return"[object String]"===s.call(t)}function u(t){return"function"==typeof t}function l(t){return d(t=h(t))?"":String(t)}function h(t){return t instanceof i?t.valueOf():t}function p(t){return"number"==typeof t}function f(t){return t&&u(t.toLiquid)?f(t.toLiquid()):t}function d(t){return null==t}function g(t){return"[object Array]"===s.call(t)}function y(t,e){t=t||{};for(const n in t)if(t.hasOwnProperty(n)&&!1===e(t[n],n,t))break;return t}function m(t){return t[t.length-1]}function b(t){const e=typeof t;return null!==t&&("object"===e||"function"===e)}function v(t,e,n=1){const r=[];for(let i=t;i<e;i+=n)r.push(i);return r}function w(t,e,n=" "){return O(t,e,n,((t,e)=>e+t))}function O(t,e,n,r){let i=e-(t=String(t)).length;for(;i-- >0;)t=r(t,n);return t}function T(t){return t}function k(t){return t.replace(/(\w?)([A-Z])/g,((t,e,n)=>(e?e+"_":"")+n.toLowerCase()))}function x(t,e){return null==t&&null==e?0:null==t?1:null==e||(t=a.call(t))<(e=a.call(e))?-1:t>e?1:0}class E{constructor(t,e,n,r){this.key=t,this.value=e,this.next=n,this.prev=r}}class j{constructor(t,e=0){this.limit=t,this.size=e,this.cache={},this.head=new E("HEAD",null,null,null),this.tail=new E("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(t,e){if(this.cache[t])this.cache[t].value=e;else{const n=new E(t,e,this.head.next,this.head);this.head.next.prev=n,this.head.next=n,this.cache[t]=n,this.size++,this.ensureLimit()}}read(t){if(!this.cache[t])return;const{value:e}=this.cache[t];return this.remove(t),this.write(t,e),e}remove(t){const e=this.cache[t];e.prev.next=e.next,e.next.prev=e.prev,delete this.cache[t],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}}function A(t){return t&&u(t.equals)}function P(t,e){return!S(t,e)}function S(t,e){return e.opts.jsTruthy?!t:!1===t||null==t}const M={"==":(t,e)=>A(t)?t.equals(e):A(e)?e.equals(t):t===e,"!=":(t,e)=>A(t)?!t.equals(e):A(e)?!e.equals(t):t!==e,">":(t,e)=>A(t)?t.gt(e):A(e)?e.lt(t):t>e,"<":(t,e)=>A(t)?t.lt(e):A(e)?e.gt(t):t<e,">=":(t,e)=>A(t)?t.geq(e):A(e)?e.leq(t):t>=e,"<=":(t,e)=>A(t)?t.leq(e):A(e)?e.geq(t):t<=e,contains:(t,e)=>!(!t||!u(t.indexOf))&&t.indexOf(e)>-1,and:(t,e,n)=>P(t,n)&&P(e,n),or:(t,e,n)=>P(t,n)||P(e,n)};function N(t){const e={};for(const[n,r]of Object.entries(t)){let t=e;for(let e=0;e<n.length;e++){const r=n[e];t[r]=t[r]||{},e===n.length-1&&"="!==r&&(t[r].needBoundary=!0),t=t[r]}t.handler=r,t.end=!0}return e}const R={root:["."],cache:void 0,extname:"",fs:Object.freeze({resolve:function(t,e,n){return t.length&&"/"!==m(t)&&(t+="/"),function(t,e){const n=document.createElement("base");n.href=t;const r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);const i=document.createElement("a");i.href=e;const o=i.href;return r.removeChild(n),o}(t,e).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,((t,e,r)=>{const i=r.split("/").pop();return/\.\w+$/.test(i)?t:e+r+n}))},readFile:async function(t){return new Promise(((e,n)=>{const r=new XMLHttpRequest;r.onload=()=>{r.status>=200&&r.status<300?e(r.responseText):n(new Error(r.statusText))},r.onerror=()=>{n(new Error("An error occurred whilst receiving the response."))},r.open("GET",t),r.send()}))},readFileSync:function(t){const e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(),e.status<200||e.status>=300)throw new Error(e.statusText);return e.responseText},exists:async function(t){return!0},existsSync:function(t){return!0}}),dynamicPartials:!0,jsTruthy:!1,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,lenientIf:!1,globals:{},keepOutputType:!1,operators:M,operatorsTrie:N(M)};function B(t){if((t=t||{}).hasOwnProperty("root")&&(t.root=F(t.root)),t.hasOwnProperty("cache")){let e;e="number"==typeof t.cache?t.cache>0?new j(t.cache):void 0:"object"==typeof t.cache?t.cache:t.cache?new j(1024):void 0,t.cache=e}return t.hasOwnProperty("operators")&&(t.operatorsTrie=N(t.operators)),t}function F(t){return g(t)?t:c(t)?[t]:[]}class L extends Error{constructor(t,e){super(t.message),this.originalError=t,this.token=e}update(){const t=this.originalError,e=function(t){const[e]=t.getPosition(),n=t.input.split("\n"),r=Math.max(e-2,1),i=Math.min(e+3,n.length);return v(r,i+1).map((t=>`${t===e?">> ":"   "}${w(String(t),String(i).length)}| ${n[t-1]}`)).join("\n")}(this.token);this.message=function(t,e){e.file&&(t+=`, file:${e.file}`);const[n,r]=e.getPosition();return t+`, line:${n}, col:${r}`}(t.message,this.token),this.stack=this.message+"\n"+e+"\n"+this.stack+"\nFrom "+t.stack}}class C extends L{constructor(t,e){super(new Error(t),e),this.name="TokenizationError",super.update()}}class _ extends L{constructor(t,e){super(t,e),this.name="ParseError",this.message=t.message,super.update()}}class q extends L{constructor(t,e){super(t,e.token),this.name="RenderError",this.message=t.message,super.update()}static is(t){return"RenderError"===t.name}}class I extends L{constructor(t,e){super(t,e),this.name="UndefinedVariableError",this.message=t.message,super.update()}}class V extends Error{constructor(t){super(`undefined variable: ${t}`),this.name="InternalUndefinedVariableError",this.variableName=t}}class D extends Error{constructor(t){super(t),this.name="AssertionError",this.message=t+""}}class ${constructor(t={},e=R,n=!1){this.scopes=[{}],this.registers={},this.sync=n,this.opts=e,this.globals=e.globals,this.environments=t}getRegister(t,e={}){return this.registers[t]=this.registers[t]||e}setRegister(t,e){return this.registers[t]=e}saveRegister(...t){return t.map((t=>[t,this.getRegister(t)]))}restoreRegister(t){return t.forEach((([t,e])=>this.setRegister(t,e)))}getAll(){return[this.globals,this.environments,...this.scopes].reduce(((t,e)=>o(t,e)),{})}get(t){const e=this.findScope(t[0]);return this.getFromScope(e,t)}getFromScope(t,e){return"string"==typeof e&&(e=e.split(".")),e.reduce(((t,e)=>{if(r=e,t=d(n=t)?n:u((n=f(n))[r])?n[r]():n instanceof i?n.hasOwnProperty(r)?n[r]:n.liquidMethodMissing(r):"size"===r?function(t){return g(t)||c(t)?t.length:t.size}(n):"first"===r?function(t){return g(t)?t[0]:t.first}(n):"last"===r?function(t){return g(t)?t[t.length-1]:t.last}(n):n[r],d(t)&&this.opts.strictVariables)throw new V(e);var n,r;return t}),t)}push(t){return this.scopes.push(t)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}findScope(t){for(let e=this.scopes.length-1;e>=0;e--){const n=this.scopes[e];if(t in n)return n}return t in this.environments?this.environments:this.globals}}var K;function U(t){return Q(t)===K.Operator}function z(t){return Q(t)===K.HTML}function H(t){return Q(t)===K.Tag}function W(t){return Q(t)===K.Quoted}function Q(t){return t?t.kind:-1}!function(t){t[t.Number=1]="Number",t[t.Literal=2]="Literal",t[t.Tag=4]="Tag",t[t.Output=8]="Output",t[t.HTML=16]="HTML",t[t.Filter=32]="Filter",t[t.Hash=64]="Hash",t[t.PropertyAccess=128]="PropertyAccess",t[t.Word=256]="Word",t[t.Range=512]="Range",t[t.Quoted=1024]="Quoted",t[t.Operator=2048]="Operator",t[t.Delimited=12]="Delimited"}(K||(K={}));const J=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0];function Y(t,e){if(!t||!z(t))return;const n=e?4:16;for(;J[t.input.charCodeAt(t.end-1-t.trimRight)]&n;)t.trimRight++}function Z(t,e){if(!t||!z(t))return;const n=e?4:16;for(;J[t.input.charCodeAt(t.begin+t.trimLeft)]&n;)t.trimLeft++;"\n"===t.input.charAt(t.begin+t.trimLeft)&&t.trimLeft++}J[160]=J[5760]=J[6158]=J[8192]=J[8193]=J[8194]=J[8195]=J[8196]=J[8197]=J[8198]=J[8199]=J[8200]=J[8201]=J[8202]=J[8232]=J[8233]=J[8239]=J[8287]=J[12288]=4;class G{constructor(t,e,n,r,i){this.kind=t,this.input=e,this.begin=n,this.end=r,this.file=i}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[t,e]=[1,1];for(let n=0;n<this.begin;n++)"\n"===this.input[n]?(t++,e=1):e++;return[t,e]}size(){return this.end-this.begin}}class X extends G{constructor(t,e){super(K.Number,t.input,t.begin,e?e.end:t.end,t.file),this.whole=t,this.decimal=e}}class tt extends G{constructor(t,e,n,r){super(K.Word,t,e,n,r),this.input=t,this.begin=e,this.end=n,this.file=r,this.content=this.getText()}isNumber(t=!1){for(let e=t&&64&J[this.input.charCodeAt(this.begin)]?this.begin+1:this.begin;e<this.end;e++)if(!(32&J[this.input.charCodeAt(e)]))return!1;return!0}}class et extends i{equals(t){return!(t instanceof et||(c(t=h(t))||g(t)?0!==t.length:!b(t)||0!==Object.keys(t).length))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}const nt=new class extends i{equals(t){return d(h(t))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}},rt={true:!0,false:!1,nil:nt,null:nt,empty:new et,blank:new class extends et{equals(t){return!1===t||!!d(h(t))||(c(t)?/^\s*$/.test(t):super.equals(t))}}};class it extends G{constructor(t,e,n,r){super(K.Literal,t,e,n,r),this.input=t,this.begin=e,this.end=n,this.file=r,this.literal=this.getText()}}const ot={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0};class st extends G{constructor(t,e,n,r){super(K.Operator,t,e,n,r),this.input=t,this.begin=e,this.end=n,this.file=r,this.operator=this.getText()}getPrecedence(){const t=this.getText();return t in ot?ot[t]:1}}const at=/[\da-fA-F]/,ct=/[0-7]/,ut={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v"};function lt(t){const e=t.charCodeAt(0);return e>=97?e-87:e>=65?e-55:e-48}function ht(t){let e="";for(let n=1;n<t.length-1;n++)if("\\"===t[n])if(void 0!==ut[t[n+1]])e+=ut[t[++n]];else if("u"===t[n+1]){let r=0,i=n+2;for(;i<=n+5&&at.test(t[i]);)r=16*r+lt(t[i++]);n=i-1,e+=String.fromCharCode(r)}else if(ct.test(t[n+1])){let r=n+1,i=0;for(;r<=n+3&&ct.test(t[r]);)i=8*i+lt(t[r++]);n=r-1,e+=String.fromCharCode(i)}else e+=t[++n];else e+=t[n];return e}class pt extends G{constructor(t,e,n){super(K.PropertyAccess,t.input,t.begin,n,t.file),this.variable=t,this.props=e}getVariableAsText(){return this.variable instanceof tt?this.variable.getText():ht(this.variable.getText())}}function ft(t,e){if(!t){const n=e?e():`expect ${t} to be true`;throw new D(n)}}class dt extends G{constructor(t,e,n,r,i,o){super(K.Filter,n,r,i,o),this.name=t,this.args=e}}class gt extends G{constructor(t,e,n,r,i,o){super(K.Hash,t,e,n,o),this.input=t,this.begin=e,this.end=n,this.name=r,this.value=i,this.file=o}}class yt extends G{constructor(t,e,n,r){super(K.Quoted,t,e,n,r),this.input=t,this.begin=e,this.end=n,this.file=r}}class mt extends G{constructor(t,e,n,r){super(K.HTML,t,e,n,r),this.input=t,this.begin=e,this.end=n,this.file=r,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class bt extends G{constructor(t,e,n,r,i,o,s,a){super(t,n,r,i,a),this.trimLeft=!1,this.trimRight=!1,this.content=this.getText();const c="-"===e[0],u="-"===m(e);this.content=e.slice(c?1:0,u?-1:e.length).trim(),this.trimLeft=c||o,this.trimRight=u||s}}class vt extends bt{constructor(t,e,n,r,i){const{trimTagLeft:o,trimTagRight:s,tagDelimiterLeft:a,tagDelimiterRight:c}=r,u=t.slice(e+a.length,n-c.length);super(K.Tag,u,t,e,n,o,s,i);const l=new At(this.content,r.operatorsTrie);if(this.name=l.readIdentifier().getText(),!this.name)throw new C("illegal tag syntax",this);l.skipBlank(),this.args=l.remaining()}}class wt extends G{constructor(t,e,n,r,i,o){super(K.Range,t,e,n,o),this.input=t,this.begin=e,this.end=n,this.lhs=r,this.rhs=i,this.file=o}}class Ot extends bt{constructor(t,e,n,r,i){const{trimOutputLeft:o,trimOutputRight:s,outputDelimiterLeft:a,outputDelimiterRight:c}=r,u=t.slice(e+a.length,n-c.length);super(K.Output,u,t,e,n,o,s,i)}}class Tt{constructor(t){this.postfix=[...jt(t)]}*evaluate(t,e){ft(t,(()=>"unable to evaluate: context not defined"));const n=[];for(const r of this.postfix)if(U(r)){const e=yield n.pop(),i=yield n.pop(),o=Et(t.opts.operators,r,i,e,t);n.push(o)}else n.push(yield kt(r,t,e&&1===this.postfix.length));return n[0]}}function kt(t,e,n=!1){return Q(t)===K.PropertyAccess?function(t,e,n){const r=t.getVariableAsText(),i=t.props.map((t=>kt(t,e,!1)));try{return e.get([r,...i])}catch(e){if(n&&"InternalUndefinedVariableError"===e.name)return null;throw new I(e,t)}}(t,e,n):function(t){return Q(t)===K.Range}(t)?function(t,e){return v(+kt(t.lhs,e),+kt(t.rhs,e)+1)}(t,e):function(t){return Q(t)===K.Literal}(t)?function(t){return rt[t.literal]}(t):function(t){return Q(t)===K.Number}(t)?function(t){const e=t.whole.content+"."+(t.decimal?t.decimal.content:"");return Number(e)}(t):function(t){return Q(t)===K.Word}(t)?t.getText():W(t)?xt(t):void 0}function xt(t){return ht(t.getText())}function Et(t,e,n,r,i){return(0,t[e.operator])(n,r,i)}function*jt(t){const e=[];for(const n of t)if(U(n)){for(;e.length&&e[e.length-1].getPrecedence()>n.getPrecedence();)yield e.pop();e.push(n)}else yield n;for(;e.length;)yield e.pop()}class At{constructor(t,e,n=""){this.input=t,this.trie=e,this.file=n,this.p=0,this.rawBeginAt=-1,this.N=t.length}readExpression(){return new Tt(this.readExpressionTokens())}*readExpressionTokens(){const t=this.readValue();if(t)for(yield t;this.p<this.N;){const t=this.readOperator();if(!t)return;const e=this.readValue();if(!e)return;yield t,yield e}}readOperator(){this.skipBlank();const t=function(t,e,n,r=t.length){let i,o=n,s=e;for(;o[t[s]]&&s<r;)o=o[t[s++]],o.end&&(i=o);return i?i.needBoundary&&1&t.charCodeAt(s)?-1:s:-1}(this.input,this.p,this.trie,this.p+8);if(-1!==t)return new st(this.input,this.p,this.p=t,this.file)}readFilters(){const t=[];for(;;){const e=this.readFilter();if(!e)return t;t.push(e)}}readFilter(){if(this.skipBlank(),this.end())return null;ft("|"===this.peek(),(()=>`unexpected token at ${this.snapshot()}`)),this.p++;const t=this.p,e=this.readIdentifier();if(!e.size())return null;const n=[];if(this.skipBlank(),":"===this.peek())do{++this.p;const t=this.readFilterArg();for(t&&n.push(t);this.p<this.N&&","!==this.peek()&&"|"!==this.peek();)++this.p}while(","===this.peek());return new dt(e.getText(),n,this.input,t,this.p,this.file)}readFilterArg(){const t=this.readValue();if(!t)return;if(this.skipBlank(),":"!==this.peek())return t;++this.p;const e=this.readValue();return[t.getText(),e]}readTopLevelTokens(t=R){const e=[];for(;this.p<this.N;){const n=this.readTopLevelToken(t);e.push(n)}return function(t,e){let n=!1;for(let r=0;r<t.length;r++){const i=t[r];Q(i)&K.Delimited&&(!n&&i.trimLeft&&Y(t[r-1],e.greedy),H(i)&&("raw"===i.name?n=!0:"endraw"===i.name&&(n=!1)),!n&&i.trimRight&&Z(t[r+1],e.greedy))}}(e,t),e}readTopLevelToken(t){const{tagDelimiterLeft:e,outputDelimiterLeft:n}=t;return this.rawBeginAt>-1?this.readEndrawOrRawContent(t):this.match(e)?this.readTagToken(t):this.match(n)?this.readOutputToken(t):this.readHTMLToken(t)}readHTMLToken(t){const e=this.p;for(;this.p<this.N;){const{tagDelimiterLeft:e,outputDelimiterLeft:n}=t;if(this.match(e))break;if(this.match(n))break;++this.p}return new mt(this.input,e,this.p,this.file)}readTagToken(t=R){const{file:e,input:n}=this,r=this.p;if(-1===this.readToDelimiter(t.tagDelimiterRight))throw this.mkError(`tag ${this.snapshot(r)} not closed`,r);const i=new vt(n,r,this.p,t,e);return"raw"===i.name&&(this.rawBeginAt=r),i}readToDelimiter(t){for(;this.p<this.N;)if(8&this.peekType())this.readQuoted();else if(++this.p,this.rmatch(t))return this.p;return-1}readOutputToken(t=R){const{file:e,input:n}=this,{outputDelimiterRight:r}=t,i=this.p;if(-1===this.readToDelimiter(r))throw this.mkError(`output ${this.snapshot(i)} not closed`,i);return new Ot(n,i,this.p,t,e)}readEndrawOrRawContent(t){const{tagDelimiterLeft:e,tagDelimiterRight:n}=t,r=this.p;let i=this.readTo(e)-e.length;for(;this.p<this.N;)if("endraw"===this.readIdentifier().getText())for(;this.p<=this.N;){if(this.rmatch(n)){const e=this.p;return r===i?(this.rawBeginAt=-1,new vt(this.input,r,e,t,this.file)):(this.p=i,new mt(this.input,r,i,this.file))}if(this.rmatch(e))break;this.p++}else i=this.readTo(e)-e.length;throw this.mkError(`raw ${this.snapshot(this.rawBeginAt)} not closed`,r)}mkError(t,e){return new C(t,new tt(this.input,e,this.N,this.file))}snapshot(t=this.p){return JSON.stringify((16,(e=this.input.slice(t)).length>16?e.substr(0,13)+"...":e));var e}readWord(){return console.warn("Tokenizer#readWord() will be removed, use #readIdentifier instead"),this.readIdentifier()}readIdentifier(){this.skipBlank();const t=this.p;for(;1&this.peekType();)++this.p;return new tt(this.input,t,this.p,this.file)}readHashes(){const t=[];for(;;){const e=this.readHash();if(!e)return t;t.push(e)}}readHash(){this.skipBlank(),","===this.peek()&&++this.p;const t=this.p,e=this.readIdentifier();if(!e.size())return;let n;return this.skipBlank(),":"===this.peek()&&(++this.p,n=this.readValue()),new gt(this.input,t,this.p,e,n,this.file)}remaining(){return this.input.slice(this.p)}advance(t=1){this.p+=t}end(){return this.p>=this.N}readTo(t){for(;this.p<this.N;)if(++this.p,this.rmatch(t))return this.p;return-1}readValue(){const t=this.readQuoted()||this.readRange();if(t)return t;if("["===this.peek()){this.p++;const t=this.readQuoted();if(!t)return;if("]"!==this.peek())return;return this.p++,new pt(t,[],this.p)}const e=this.readIdentifier();if(!e.size())return;let n=e.isNumber(!0);const r=[];for(;;)if("["===this.peek()){n=!1,this.p++;const t=this.readValue()||new tt(this.input,this.p,this.p,this.file);this.readTo("]"),r.push(t)}else{if("."!==this.peek()||"."===this.peek(1))break;{this.p++;const t=this.readIdentifier();if(!t.size())break;t.isNumber()||(n=!1),r.push(t)}}return!r.length&&rt.hasOwnProperty(e.content)?new it(this.input,e.begin,e.end,this.file):n?new X(e,r[0]):new pt(e,r,this.p)}readRange(){this.skipBlank();const t=this.p;if("("!==this.peek())return;++this.p;const e=this.readValueOrThrow();this.p+=2;const n=this.readValueOrThrow();return++this.p,new wt(this.input,t,this.p,e,n,this.file)}readValueOrThrow(){const t=this.readValue();return ft(t,(()=>`unexpected token ${this.snapshot()}, value expected`)),t}readQuoted(){this.skipBlank();const t=this.p;if(!(8&this.peekType()))return;++this.p;let e=!1;for(;this.p<this.N&&(++this.p,this.input[this.p-1]!==this.input[t]||e);)e?e=!1:"\\"===this.input[this.p-1]&&(e=!0);return new yt(this.input,t,this.p,this.file)}readFileName(){const t=this.p;for(;!(4&this.peekType())&&","!==this.peek()&&this.p<this.N;)this.p++;return new tt(this.input,t,this.p,this.file)}match(t){for(let e=0;e<t.length;e++)if(t[e]!==this.input[this.p+e])return!1;return!0}rmatch(t){for(let e=0;e<t.length;e++)if(t[t.length-1-e]!==this.input[this.p-1-e])return!1;return!0}peekType(t=0){return J[this.input.charCodeAt(this.p+t)]}peek(t=0){return this.input[this.p+t]}skipBlank(){for(;4&this.peekType();)++this.p}}class Pt{constructor(t){this.html="",this.break=!1,this.continue=!1,this.keepOutputType=!1,this.keepOutputType=t}write(t){t=!0===this.keepOutputType?h(t):l(h(t)),!0===this.keepOutputType&&"string"!=typeof t&&""===this.html?this.html=t:this.html=l(this.html)+l(t)}}class St{*renderTemplates(t,e,n){n||(n=new Pt(e.opts.keepOutputType));for(const r of t)try{const t=yield r.render(e,n);if(t&&n.write(t),n.break||n.continue)break}catch(t){throw q.is(t)?t:new q(t,r)}return n.html}}class Mt{constructor(t,e){this.handlers={},this.stopRequested=!1,this.tokens=t,this.parseToken=e}on(t,e){return this.handlers[t]=e,this}trigger(t,e){const n=this.handlers[t];return!!n&&(n(e),!0)}start(){let t;for(this.trigger("start");!this.stopRequested&&(t=this.tokens.shift());){if(this.trigger("token",t))continue;if(H(t)&&this.trigger(`tag:${t.name}`,t))continue;const e=this.parseToken(t,this.tokens);this.trigger("template",e)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class Nt{constructor(t){this.token=t}}class Rt{constructor(t){this.hash={};const e=new At(t,{});for(const t of e.readHashes())this.hash[t.name.content]=t.value}*render(t){const e={};for(const n of Object.keys(this.hash))e[n]=yield kt(this.hash[n],t);return e}}class Bt{constructor(t,e,n,r){this.name=t,this.impl=e||T,this.args=n,this.liquid=r}render(t,e){const n=[];for(const t of this.args)g(t)?n.push([t[0],kt(t[1],e)]):n.push(kt(t,e));return this.impl.apply({context:e,liquid:this.liquid},[t,...n])}}class Ft{constructor(t,e){this.filters=[];const n=new At(t,e.options.operatorsTrie);this.initial=n.readExpression(),this.filters=n.readFilters().map((({name:t,args:n})=>new Bt(t,e.filters.get(t),n,e)))}*value(t,e){e=e||t.opts.lenientIf&&this.filters.length>0&&"default"===this.filters[0].name;let n=yield this.initial.evaluate(t,e);for(const e of this.filters)n=yield e.render(n,t);return n}}function Lt(t){const e={then:e=>e(t),catch:()=>e};return e}function Ct(t){const e={then:(n,r)=>r?r(t):e,catch:e=>e(t)};return e}function _t(t){return function(t){return t&&u(t.then)}(t)?t:function(t){return t&&u(t.next)&&u(t.throw)&&u(t.return)}(t)?function e(n){let r;try{r=t.next(n)}catch(t){return Ct(t)}return r.done?Lt(r.value):_t(r.value).then(e,(n=>{let r;try{r=t.throw(n)}catch(t){return Ct(t)}return r.done?Lt(r.value):e(r.value)}))}():Lt(t)}function qt(t){return Promise.resolve(_t(t))}function It(t){let e;return _t(t).then((t=>(e=t,Lt(e)))).catch((t=>{throw t})),e}class Vt extends Nt{constructor(t,e,n){super(t),this.name=t.name;const r=n.tags.get(t.name);this.impl=Object.create(r),this.impl.liquid=n,this.impl.parse&&this.impl.parse(t,e)}*render(t,e){const n=yield new Rt(this.token.args).render(t),r=this.impl;if(u(r.render))return yield r.render(t,e,n)}}class Dt extends Nt{constructor(t,e){super(t),this.value=new Ft(t.content,e)}*render(t,e){const n=yield this.value.value(t,!1);e.write(n)}}class $t extends Nt{constructor(t){super(t),this.str=t.getContent()}*render(t,e){e.write(this.str)}}class Kt{constructor(t){this.liquid=t}parse(t){let e;const n=[];for(;e=t.shift();)n.push(this.parseToken(e,t));return n}parseToken(t,e){try{return H(t)?new Vt(t,e,this.liquid):Q(t)===K.Output?new Dt(t,this.liquid):new $t(t)}catch(e){throw new _(e,t)}}parseStream(t){return new Mt(t,((t,e)=>this.parseToken(t,e)))}}var Ut={parse:function(t){const e=new At(t.args,this.liquid.options.operatorsTrie);this.key=e.readIdentifier().content,e.skipBlank(),ft("="===e.peek(),(()=>`illegal token ${t.getText()}`)),e.advance(),this.value=e.remaining()},render:function*(t){t.bottom()[this.key]=yield this.liquid._evalValue(this.value,t)}};function zt(t){return g(t)?t:c(t)&&t.length>0?[t]:b(t)?Object.keys(t).map((e=>[e,t[e]])):[]}function Ht(t){return g(t)?t:[t]}class Wt extends i{constructor(t){super(),this.i=0,this.length=t}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return 0===this.i}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}var Qt,Jt={type:"block",parse:function(t,e){const n=new At(t.args,this.liquid.options.operatorsTrie),r=n.readIdentifier(),i=n.readIdentifier(),o=n.readValue();let s;ft(r.size()&&"in"===i.content&&o,(()=>`illegal tag: ${t.getText()}`)),this.variable=r.content,this.collection=o,this.hash=new Rt(n.remaining()),this.templates=[],this.elseTemplates=[];const a=this.liquid.parser.parseStream(e).on("start",(()=>s=this.templates)).on("tag:else",(()=>s=this.elseTemplates)).on("tag:endfor",(()=>a.stop())).on("template",(t=>s.push(t))).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)}));a.start()},render:function*(t,e){const n=this.liquid.renderer;let r=zt(yield kt(this.collection,t));if(!r.length)return void(yield n.renderTemplates(this.elseTemplates,t,e));const i=yield this.hash.render(t),o=i.offset||0,s=void 0===i.limit?r.length:i.limit;r=r.slice(o,o+s),"reversed"in i&&r.reverse();const a={forloop:new Wt(r.length)};t.push(a);for(const i of r){if(a[this.variable]=i,yield n.renderTemplates(this.templates,t,e),e.break){e.break=!1;break}e.continue=!1,a.forloop.next()}t.pop()}},Yt={parse:function(t,e){const n=new At(t.args,this.liquid.options.operatorsTrie);this.variable=function(t){const e=t.readIdentifier().content;if(e)return e;const n=t.readQuoted();return n?xt(n):void 0}(n),ft(this.variable,(()=>`${t.args} not valid identifier`)),this.templates=[];const r=this.liquid.parser.parseStream(e);r.on("tag:endcapture",(()=>r.stop())).on("template",(t=>this.templates.push(t))).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)})),r.start()},render:function*(t){const e=this.liquid.renderer,n=yield e.renderTemplates(this.templates,t);t.bottom()[this.variable]=n}},Zt={parse:function(t,e){this.cond=new Ft(t.args,this.liquid),this.cases=[],this.elseTemplates=[];let n=[];const r=this.liquid.parser.parseStream(e).on("tag:when",(t=>{this.cases.push({val:new Ft(t.args,this.liquid),templates:n=[]})})).on("tag:else",(()=>n=this.elseTemplates)).on("tag:endcase",(()=>r.stop())).on("template",(t=>n.push(t))).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)}));r.start()},render:function*(t,e){const n=this.liquid.renderer,r=h(yield this.cond.value(t,t.opts.lenientIf));for(const i of this.cases)if(h(yield i.val.value(t,t.opts.lenientIf))===r)return void(yield n.renderTemplates(i.templates,t,e));yield n.renderTemplates(this.elseTemplates,t,e)}},Gt={parse:function(t,e){const n=this.liquid.parser.parseStream(e);n.on("token",(t=>{"endcomment"===t.name&&n.stop()})).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)})),n.start()}};!function(t){t[t.OUTPUT=0]="OUTPUT",t[t.STORE=1]="STORE"}(Qt||(Qt={}));var Xt=Qt,te={parse:function(t){const e=t.args,n=new At(e,this.liquid.options.operatorsTrie);this.file=this.liquid.options.dynamicPartials?n.readValue():n.readFileName(),ft(this.file,(()=>`illegal argument "${t.args}"`));const r=n.p;"with"===n.readIdentifier().content?(n.skipBlank(),":"!==n.peek()?this.withVar=n.readValue():n.p=r):n.p=r,this.hash=new Rt(n.remaining())},render:function*(t,e){const{liquid:n,hash:r,withVar:i,file:o}=this,{renderer:s}=n,a=t.opts.dynamicPartials?W(o)?yield s.renderTemplates(n.parse(xt(o)),t):yield kt(o,t):o.getText();ft(a,(()=>`illegal filename "${o.getText()}":"${a}"`));const c=t.saveRegister("blocks","blockMode");t.setRegister("blocks",{}),t.setRegister("blockMode",Xt.OUTPUT);const u=yield r.render(t);i&&(u[a]=kt(i,t));const l=yield n._parseFile(a,t.opts,t.sync);t.push(u),yield s.renderTemplates(l,t,e),t.pop(),t.restoreRegister(c)}},ee={parse:function(t){const e=t.args,n=new At(e,this.liquid.options.operatorsTrie);for(this.file=this.liquid.options.dynamicPartials?n.readValue():n.readFileName(),ft(this.file,(()=>`illegal argument "${t.args}"`));!n.end();){n.skipBlank();const t=n.p,e=n.readIdentifier();if(("with"===e.content||"for"===e.content)&&(n.skipBlank(),":"!==n.peek())){const t=n.readValue();if(t){const r=n.p;let i;"as"===n.readIdentifier().content?i=n.readIdentifier():n.p=r,this[e.content]={value:t,alias:i&&i.content},n.skipBlank(),","===n.peek()&&n.advance();continue}}n.p=t;break}this.hash=new Rt(n.remaining())},render:function*(t,e){const{liquid:n,file:r,hash:i}=this,{renderer:o}=n,s=t.opts.dynamicPartials?W(r)?yield o.renderTemplates(n.parse(xt(r)),t):kt(r,t):r.getText();ft(s,(()=>`illegal filename "${r.getText()}":"${s}"`));const a=new $({},t.opts,t.sync),c=yield i.render(t);if(this.with){const{value:e,alias:n}=this.with;c[n||s]=kt(e,t)}if(a.push(c),this.for){const{value:r,alias:i}=this.for;let u=kt(r,t);u=zt(u),c.forloop=new Wt(u.length);for(const t of u){c[i]=t;const r=yield n._parseFile(s,a.opts,a.sync);yield o.renderTemplates(r,a,e),c.forloop.next()}}else{const t=yield n._parseFile(s,a.opts,a.sync);yield o.renderTemplates(t,a,e)}}},ne={parse:function(t){const e=new At(t.args,this.liquid.options.operatorsTrie);this.variable=e.readIdentifier().content},render:function(t,e){const n=t.environments;p(n[this.variable])||(n[this.variable]=0),e.write(l(--n[this.variable]))}},re={parse:function(t){const e=new At(t.args,this.liquid.options.operatorsTrie),n=e.readValue();for(e.skipBlank(),this.candidates=[],n&&(":"===e.peek()?(this.group=n,e.advance()):this.candidates.push(n));!e.end();){const t=e.readValue();t&&this.candidates.push(t),e.readTo(",")}ft(this.candidates.length,(()=>`empty candidates: ${t.getText()}`))},render:function(t,e){const n=`cycle:${kt(this.group,t)}:`+this.candidates.join(","),r=t.getRegister("cycle");let i=r[n];void 0===i&&(i=r[n]=0);const o=this.candidates[i];i=(i+1)%this.candidates.length,r[n]=i;const s=kt(o,t);e.write(s)}},ie={parse:function(t,e){let n;this.branches=[],this.elseTemplates=[];const r=this.liquid.parser.parseStream(e).on("start",(()=>this.branches.push({cond:new Ft(t.args,this.liquid),templates:n=[]}))).on("tag:elsif",(t=>{this.branches.push({cond:new Ft(t.args,this.liquid),templates:n=[]})})).on("tag:else",(()=>n=this.elseTemplates)).on("tag:endif",(()=>r.stop())).on("template",(t=>n.push(t))).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)}));r.start()},render:function*(t,e){const n=this.liquid.renderer;for(const r of this.branches)if(P(yield r.cond.value(t,t.opts.lenientIf),t))return void(yield n.renderTemplates(r.templates,t,e));yield n.renderTemplates(this.elseTemplates,t,e)}},oe={parse:function(t){const e=new At(t.args,this.liquid.options.operatorsTrie);this.variable=e.readIdentifier().content},render:function(t,e){const n=t.environments;p(n[this.variable])||(n[this.variable]=0);const r=n[this.variable];n[this.variable]++,e.write(l(r))}},se={parse:function(t,e){const n=new At(t.args,this.liquid.options.operatorsTrie),r=this.liquid.options.dynamicPartials?n.readValue():n.readFileName();ft(r,(()=>`illegal argument "${t.args}"`)),this.file=r,this.hash=new Rt(n.remaining()),this.tpls=this.liquid.parser.parse(e)},render:function*(t,e){const{liquid:n,hash:r,file:i}=this,{renderer:o}=n;if("none"===i.getText()){t.setRegister("blockMode",Xt.OUTPUT);const n=yield o.renderTemplates(this.tpls,t);return void e.write(n)}const s=t.opts.dynamicPartials?W(i)?yield o.renderTemplates(n.parse(xt(i)),t):kt(this.file,t):i.getText();ft(s,(()=>`file "${i.getText()}"("${s}") not available`));const a=yield n._parseFile(s,t.opts,t.sync);t.setRegister("blockMode",Xt.STORE);const c=yield o.renderTemplates(this.tpls,t),u=t.getRegister("blocks");void 0===u[""]&&(u[""]=()=>c),t.setRegister("blockMode",Xt.OUTPUT),t.push(yield r.render(t));const l=yield o.renderTemplates(a,t);t.pop(),e.write(l)}};class ae extends i{constructor(t=(()=>"")){super(),this.superBlockRender=t}super(){return this.superBlockRender()}}var ce={parse(t,e){const n=/\w+/.exec(t.args);this.block=n?n[0]:"",this.tpls=[];const r=this.liquid.parser.parseStream(e).on("tag:endblock",(()=>r.stop())).on("template",(t=>this.tpls.push(t))).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)}));r.start()},*render(t,e){const n=this.getBlockRender(t);yield this.emitHTML(t,e,n)},getBlockRender(t){const{liquid:e,tpls:n}=this,r=t.getRegister("blocks")[this.block],i=function*(r){t.push({block:r});const i=yield e.renderer.renderTemplates(n,t);return t.pop(),i};return r?t=>r(new ae((()=>i(t)))):i},*emitHTML(t,e,n){t.getRegister("blockMode",Xt.OUTPUT)===Xt.STORE?t.getRegister("blocks")[this.block]=n:e.write(yield n(new ae))}},ue={parse:function(t,e){this.tokens=[];const n=this.liquid.parser.parseStream(e);n.on("token",(t=>{"endraw"===t.name?n.stop():this.tokens.push(t)})).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)})),n.start()},render:function(){return this.tokens.map((t=>t.getText())).join("")}};class le extends Wt{constructor(t,e){super(t),this.length=t,this.cols=e}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return 0===this.col0()}col_last(){return this.col()===this.cols}}const he={assign:Ut,for:Jt,capture:Yt,case:Zt,comment:Gt,include:te,render:ee,decrement:ne,increment:oe,cycle:re,if:ie,layout:se,block:ce,raw:ue,tablerow:{parse:function(t,e){const n=new At(t.args,this.liquid.options.operatorsTrie);this.variable=n.readIdentifier(),n.skipBlank();const r=n.readIdentifier();let i;ft(r&&"in"===r.content,(()=>`illegal tag: ${t.getText()}`)),this.collection=n.readValue(),this.hash=new Rt(n.remaining()),this.templates=[];const o=this.liquid.parser.parseStream(e).on("start",(()=>i=this.templates)).on("tag:endtablerow",(()=>o.stop())).on("template",(t=>i.push(t))).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)}));o.start()},render:function*(t,e){let n=zt(yield kt(this.collection,t));const r=yield this.hash.render(t),i=r.offset||0,o=void 0===r.limit?n.length:r.limit;n=n.slice(i,i+o);const s=r.cols||n.length,a=this.liquid.renderer,c=new le(n.length,s),u={tablerowloop:c};t.push(u);for(let r=0;r<n.length;r++,c.next())u[this.variable.content]=n[r],0===c.col0()&&(1!==c.row()&&e.write("</tr>"),e.write(`<tr class="row${c.row()}">`)),e.write(`<td class="col${c.col()}">`),yield a.renderTemplates(this.templates,t,e),e.write("</td>");n.length&&e.write("</tr>"),t.pop()}},unless:{parse:function(t,e){let n;this.templates=[],this.branches=[],this.elseTemplates=[];const r=this.liquid.parser.parseStream(e).on("start",(()=>{n=this.templates,this.cond=new Ft(t.args,this.liquid)})).on("tag:elsif",(t=>{this.branches.push({cond:new Ft(t.args,this.liquid),templates:n=[]})})).on("tag:else",(()=>n=this.elseTemplates)).on("tag:endunless",(()=>r.stop())).on("template",(t=>n.push(t))).on("end",(()=>{throw new Error(`tag ${t.getText()} not closed`)}));r.start()},render:function*(t,e){const n=this.liquid.renderer;if(S(yield this.cond.value(t,t.opts.lenientIf),t))yield n.renderTemplates(this.templates,t,e);else{for(const r of this.branches)if(P(yield r.cond.value(t,t.opts.lenientIf),t))return void(yield n.renderTemplates(r.templates,t,e));yield n.renderTemplates(this.elseTemplates,t,e)}}},break:{render:function(t,e){e.break=!0}},continue:{render:function(t,e){e.continue=!0}}},pe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},fe={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function de(t){return l(t).replace(/&|<|>|"|'/g,(t=>pe[t]))}const ge=Math.abs,ye=Math.max,me=Math.min,be=Math.ceil,ve=Math.floor,we=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,Oe=["January","February","March","April","May","June","July","August","September","October","November","December"],Te=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ke=Oe.map(je),xe=Te.map(je),Ee={1:"st",2:"nd",3:"rd",default:"th"};function je(t){return t.slice(0,3)}function Ae(t){return[31,function(t){const e=t.getFullYear();return!(0!=(3&e)||!(e%100||e%400==0&&e))}(t)?29:28,31,30,31,30,31,31,30,31,30,31]}function Pe(t){let e=0;for(let n=0;n<t.getMonth();++n)e+=Ae(t)[n];return e+t.getDate()}function Se(t,e){const n=Pe(t)+(e-t.getDay()),r=7-new Date(t.getFullYear(),0,1).getDay()+e;return String(Math.floor((n-r)/7)+1)}const Me={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},Ne={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},Re={a:t=>xe[t.getDay()],A:t=>Te[t.getDay()],b:t=>ke[t.getMonth()],B:t=>Oe[t.getMonth()],c:t=>t.toLocaleString(),C:t=>function(t){return parseInt(t.getFullYear().toString().substring(0,2),10)}(t),d:t=>t.getDate(),e:t=>t.getDate(),H:t=>t.getHours(),I:t=>String(t.getHours()%12||12),j:t=>Pe(t),k:t=>t.getHours(),l:t=>String(t.getHours()%12||12),L:t=>t.getMilliseconds(),m:t=>t.getMonth()+1,M:t=>t.getMinutes(),N:(t,e)=>{const n=Number(e.width)||9;return function(t,e,n=" "){return O(t,e,n,((t,e)=>t+e))}(String(t.getMilliseconds()).substr(0,n),n,"0")},p:t=>t.getHours()<12?"AM":"PM",P:t=>t.getHours()<12?"am":"pm",q:t=>function(t){const e=t.getDate().toString(),n=parseInt(e.slice(-1));return Ee[n]||Ee.default}(t),s:t=>Math.round(t.valueOf()/1e3),S:t=>t.getSeconds(),u:t=>t.getDay()||7,U:t=>Se(t,0),w:t=>t.getDay(),W:t=>Se(t,1),x:t=>t.toLocaleDateString(),X:t=>t.toLocaleTimeString(),y:t=>t.getFullYear().toString().substring(2,4),Y:t=>t.getFullYear(),z:(t,e)=>{const n=t.getTimezoneOffset(),r=Math.abs(n),i=r%60;return(n>0?"-":"+")+w(Math.floor(r/60),2,"0")+(e.flags[":"]?":":"")+w(i,2,"0")},t:()=>"\t",n:()=>"\n","%":()=>"%"};function Be(t,e){const[n,r="",i,o,s]=e,a=Re[s];if(!a)return n;const c={};for(const t of r)c[t]=!0;let u=String(a(t,{flags:c,width:i,modifier:o})),l=Ne[s]||"0",h=i||Me[s]||0;var p;return c["^"]?u=u.toUpperCase():c["#"]&&(p=u,u=[...p].some((t=>t>="a"&&t<="z"))?p.toUpperCase():p.toLowerCase()),c._?l=" ":c[0]&&(l="0"),c["-"]&&(h=0),w(u,h,l)}Re.h=Re.b;class Fe extends Date{constructor(t){super(t),this.dateString=t,this.ISO8601_TIMEZONE_PATTERN=/([zZ]|([+-])(\d{2}):(\d{2}))$/,this.inputTimezoneOffset=0;const e=t.match(this.ISO8601_TIMEZONE_PATTERN);if(e&&"Z"===e[1])this.inputTimezoneOffset=this.getTimezoneOffset();else if(e&&e[2]&&e[3]&&e[4]){const[,,t,n,r]=e,i=("+"===t?1:-1)*(60*parseInt(n,10)+parseInt(r,10));this.inputTimezoneOffset=this.getTimezoneOffset()+i}}getDisplayDate(){return new Date(+this+60*this.inputTimezoneOffset*1e3)}}var Le=Object.freeze({escape:de,escapeOnce:function(t){return de(function(t){return String(t).replace(/&(amp|lt|gt|#34|#39);/g,(t=>fe[t]))}(t))},newlineToBr:function(t){return t.replace(/\n/g,"<br />\n")},stripHtml:function(t){return t.replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")},abs:ge,atLeast:ye,atMost:me,ceil:be,dividedBy:(t,e)=>t/e,floor:ve,minus:(t,e)=>t-e,modulo:(t,e)=>t%e,times:(t,e)=>t*e,round:function(t,e=0){const n=Math.pow(10,e);return Math.round(t*n)/n},plus:function(t,e){return Number(t)+Number(e)},sortNatural:function(t,e){return t&&t.sort?void 0!==e?[...t].sort(((t,n)=>x(t[e],n[e]))):[...t].sort(x):[]},urlDecode:t=>t.split("+").map(decodeURIComponent).join(" "),urlEncode:t=>t.split(" ").map(encodeURIComponent).join("+"),join:(t,e)=>t.join(void 0===e?" ":e),last:t=>g(t)?m(t):"",first:t=>g(t)?t[0]:"",reverse:t=>[...t].reverse(),sort:function(t,e){const n=t=>e?this.context.getFromScope(t,e.split(".")):t;return Ht(t).sort(((t,e)=>(t=n(t))<(e=n(e))?-1:t>e?1:0))},size:t=>t&&t.length||0,map:function(t,e){return Ht(t).map((t=>this.context.getFromScope(t,e.split("."))))},compact:function(t){return Ht(t).filter((t=>!d(t)))},concat:function(t,e){return Ht(t).concat(e)},slice:function(t,e,n=1){return e=e<0?t.length+e:e,t.slice(e,e+n)},where:function(t,e,n){return Ht(t).filter((t=>{const r=this.context.getFromScope(t,String(e).split("."));return void 0===n?P(r,this.context):r===n}))},uniq:function(t){const e={};return(t||[]).filter((t=>!e.hasOwnProperty(String(t))&&(e[String(t)]=!0,!0)))},date:function(t,e){let n=t;return"now"===t||"today"===t?n=new Date:p(t)?n=new Date(1e3*t):c(t)&&(n=/^\d+$/.test(t)?new Date(1e3*+t):this.context.opts.preserveTimezones?new Fe(t):new Date(t)),function(t){return t instanceof Date&&!isNaN(t.getTime())}(n)?function(t,e){let n=t;n instanceof Fe&&(n=n.getDisplayDate());let r,i="",o=e;for(;r=we.exec(o);)i+=o.slice(0,r.index),o=o.slice(r.index+r[0].length),i+=Be(n,r);return i+o}(n,e):t},Default:function(t,e){return g(t)||c(t)?t.length?t:e:S(h(t),this.context)?e:t},json:function(t){return JSON.stringify(t)},append:function(t,e){return ft(void 0!==e,(()=>"append expect 2 arguments")),l(t)+l(e)},prepend:function(t,e){return ft(void 0!==e,(()=>"prepend expect 2 arguments")),l(e)+l(t)},lstrip:function(t){return l(t).replace(/^\s+/,"")},downcase:function(t){return l(t).toLowerCase()},upcase:function(t){return l(t).toUpperCase()},remove:function(t,e){return l(t).split(String(e)).join("")},removeFirst:function(t,e){return l(t).replace(String(e),"")},rstrip:function(t){return l(t).replace(/\s+$/,"")},split:function(t,e){return l(t).split(String(e))},strip:function(t){return l(t).trim()},stripNewlines:function(t){return l(t).replace(/\n/g,"")},capitalize:function(t){return(t=l(t)).charAt(0).toUpperCase()+t.slice(1).toLowerCase()},replace:function(t,e,n){return l(t).split(String(e)).join(n)},replaceFirst:function(t,e,n){return l(t).replace(String(e),n)},truncate:function(t,e=50,n="..."){return(t=l(t)).length<=e?t:t.substr(0,e-n.length)+n},truncatewords:function(t,e=15,n="..."){const r=t.split(/\s+/);let i=r.slice(0,e).join(" ");return r.length>=e&&(i+=n),i}});class Ce{constructor(){this.impls={}}get(t){const e=this.impls[t];return ft(e,(()=>`tag "${t}" not found`)),e}set(t,e){this.impls[t]=e}}class _e{constructor(t,e){this.strictFilters=t,this.liquid=e,this.impls={}}get(t){const e=this.impls[t];return ft(e||!this.strictFilters,(()=>`undefined filter: ${t}`)),e}set(t,e){this.impls[t]=e}create(t,e){return new Bt(t,this.get(t),e,this.liquid)}}class qe{constructor(t={}){var e;this.options=(e=B(t),Object.assign({},R,e)),this.parser=new Kt(this),this.renderer=new St,this.filters=new _e(this.options.strictFilters,this),this.tags=new Ce,y(he,((t,e)=>this.registerTag(k(e),t))),y(Le,((t,e)=>this.registerFilter(k(e),t)))}parse(t,e){const n=new At(t,this.options.operatorsTrie,e).readTopLevelTokens(this.options);return this.parser.parse(n)}_render(t,e,n,r){const i=Object.assign({},this.options,B(n)),o=new $(e,i,r),s=new Pt(i.keepOutputType);return this.renderer.renderTemplates(t,o,s)}async render(t,e,n){return qt(this._render(t,e,n,!1))}renderSync(t,e,n){return It(this._render(t,e,n,!0))}_parseAndRender(t,e,n,r){const i=this.parse(t);return this._render(i,e,n,r)}async parseAndRender(t,e,n){return qt(this._parseAndRender(t,e,n,!1))}parseAndRenderSync(t,e,n){return It(this._parseAndRender(t,e,n,!0))}*_parseFile(t,e,n){const r=Object.assign({},this.options,B(e)),i=r.root.map((e=>r.fs.resolve(e,t,r.extname)));if(void 0!==r.fs.fallback){const e=r.fs.fallback(t);void 0!==e&&i.push(e)}for(const t of i){const{cache:e}=r;if(e){const n=yield e.read(t);if(n)return n}if(!(n?r.fs.existsSync(t):yield r.fs.exists(t)))continue;const i=this.parse(n?r.fs.readFileSync(t):yield r.fs.readFile(t),t);return e&&e.write(t,i),i}throw this.lookupError(t,r.root)}async parseFile(t,e){return qt(this._parseFile(t,e,!1))}parseFileSync(t,e){return It(this._parseFile(t,e,!0))}async renderFile(t,e,n){const r=await this.parseFile(t,n);return this.render(r,e,n)}renderFileSync(t,e,n){const r=this.parseFileSync(t,n);return this.renderSync(r,e,n)}_evalValue(t,e){return new Ft(t,this).value(e,!1)}async evalValue(t,e){return qt(this._evalValue(t,e))}evalValueSync(t,e){return It(this._evalValue(t,e))}registerFilter(t,e){this.filters.set(t,e)}registerTag(t,e){this.tags.set(t,e)}plugin(t){return t.call(this,qe)}express(){const t=this;return function(e,n,r){const i={root:[...F(this.root),...t.options.root]};t.renderFile(e,n,i).then((t=>r(null,t)),r)}}lookupError(t,e){const n=new Error("ENOENT");return n.message=`ENOENT: Failed to lookup "${t}" in "${e}"`,n.code="ENOENT",n}async getTemplate(t,e){return this.parseFile(t,e)}getTemplateSync(t,e){return this.parseFileSync(t,e)}}function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ke(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ue(t){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ue(r);if(i){var n=Ue(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ke(this,t)});function s(){return Ve(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"connect",value:function(){var t=this;(new qe).parseAndRender(this.element.innerHTML,liquid_data).then((function(e){return t.element.innerHTML=e}))}}])&&De(e.prototype,n),s}(r.Qr)},931:(t,e,n)=>{"use strict";n.d(e,{Mx:()=>K,Qr:()=>G});var r=function(){function t(t,e,n){this.eventTarget=t,this.eventName=e,this.eventOptions=n,this.unorderedBindings=new Set}return t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)},t.prototype.bindingConnected=function(t){this.unorderedBindings.add(t)},t.prototype.bindingDisconnected=function(t){this.unorderedBindings.delete(t)},t.prototype.handleEvent=function(t){for(var e=function(t){if("immediatePropagationStopped"in t)return t;var e=t.stopImmediatePropagation;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,e.call(this)}})}(t),n=0,r=this.bindings;n<r.length;n++){var i=r[n];if(e.immediatePropagationStopped)break;i.handleEvent(e)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort((function(t,e){var n=t.index,r=e.index;return n<r?-1:n>r?1:0}))},enumerable:!1,configurable:!0}),t}(),i=function(){function t(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}return t.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(t){return t.connect()})))},t.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(t){return t.disconnect()})))},Object.defineProperty(t.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(t,e){return t.concat(Array.from(e.values()))}),[])},enumerable:!1,configurable:!0}),t.prototype.bindingConnected=function(t){this.fetchEventListenerForBinding(t).bindingConnected(t)},t.prototype.bindingDisconnected=function(t){this.fetchEventListenerForBinding(t).bindingDisconnected(t)},t.prototype.handleError=function(t,e,n){void 0===n&&(n={}),this.application.handleError(t,"Error "+e,n)},t.prototype.fetchEventListenerForBinding=function(t){var e=t.eventTarget,n=t.eventName,r=t.eventOptions;return this.fetchEventListener(e,n,r)},t.prototype.fetchEventListener=function(t,e,n){var r=this.fetchEventListenerMapForEventTarget(t),i=this.cacheKey(e,n),o=r.get(i);return o||(o=this.createEventListener(t,e,n),r.set(i,o)),o},t.prototype.createEventListener=function(t,e,n){var i=new r(t,e,n);return this.started&&i.connect(),i},t.prototype.fetchEventListenerMapForEventTarget=function(t){var e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e},t.prototype.cacheKey=function(t,e){var n=[t];return Object.keys(e).sort().forEach((function(t){n.push((e[t]?"":"!")+t)})),n.join(":")},t}(),o=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;var s=function(){function t(t,e,n){this.element=t,this.index=e,this.eventTarget=n.eventTarget||t,this.eventName=n.eventName||function(t){var e=t.tagName.toLowerCase();if(e in a)return a[e](t)}(t)||c("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||c("missing identifier"),this.methodName=n.methodName||c("missing method name")}return t.forToken=function(t){return new this(t.element,t.index,(n=t.content,{eventTarget:(e=(i=n.trim().match(o)||[])[4],"window"==e?window:"document"==e?document:void 0),eventName:i[2],eventOptions:i[9]?(r=i[9],r.split(":").reduce((function(t,e){var n;return Object.assign(t,((n={})[e.replace(/^!/,"")]=!/^!/.test(e),n))}),{})):{},identifier:i[5],methodName:i[7]}));var e,n,r,i},t.prototype.toString=function(){var t=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+t+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(t.prototype,"eventTargetName",{get:function(){return(t=this.eventTarget)==window?"window":t==document?"document":void 0;var t},enumerable:!1,configurable:!0}),t}(),a={a:function(t){return"click"},button:function(t){return"click"},form:function(t){return"submit"},input:function(t){return"submit"==t.getAttribute("type")?"click":"input"},select:function(t){return"change"},textarea:function(t){return"input"}};function c(t){throw new Error(t)}var u=function(){function t(t,e){this.context=t,this.action=e}return Object.defineProperty(t.prototype,"index",{get:function(){return this.action.index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eventOptions",{get:function(){return this.action.eventOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),t.prototype.handleEvent=function(t){this.willBeInvokedByEvent(t)&&this.invokeWithEvent(t)},Object.defineProperty(t.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){var t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!1,configurable:!0}),t.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(r){var e=this,n={identifier:e.identifier,controller:e.controller,element:e.element,index:e.index,event:t};this.context.handleError(r,'invoking action "'+this.action+'"',n)}},t.prototype.willBeInvokedByEvent=function(t){var e=t.target;return this.element===e||(e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element))},Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),t}(),l=function(){function t(t,e){var n=this;this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver((function(t){return n.processMutations(t)}))}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started){for(var t=new Set(this.matchElementsInTree()),e=0,n=Array.from(this.elements);e<n.length;e++){var r=n[e];t.has(r)||this.removeElement(r)}for(var i=0,o=Array.from(t);i<o.length;i++)r=o[i],this.addElement(r)}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,n=t;e<n.length;e++){var r=n[e];this.processMutation(r)}},t.prototype.processMutation=function(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))},t.prototype.processAttributeChange=function(t,e){var n=t;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,e):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},t.prototype.processRemovedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e],i=this.elementFromNode(r);i&&this.processTree(i,this.removeElement)}},t.prototype.processAddedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e],i=this.elementFromNode(r);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}},t.prototype.matchElement=function(t){return this.delegate.matchElement(t)},t.prototype.matchElementsInTree=function(t){return void 0===t&&(t=this.element),this.delegate.matchElementsInTree(t)},t.prototype.processTree=function(t,e){for(var n=0,r=this.matchElementsInTree(t);n<r.length;n++){var i=r[n];e.call(this,i)}},t.prototype.elementFromNode=function(t){if(t.nodeType==Node.ELEMENT_NODE)return t},t.prototype.elementIsActive=function(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)},t.prototype.addElement=function(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))},t.prototype.removeElement=function(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))},t}(),h=function(){function t(t,e,n){this.attributeName=e,this.delegate=n,this.elementObserver=new l(t,this)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.elementObserver.start()},t.prototype.stop=function(){this.elementObserver.stop()},t.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(t.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!1,configurable:!0}),t.prototype.matchElement=function(t){return t.hasAttribute(this.attributeName)},t.prototype.matchElementsInTree=function(t){var e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector));return e.concat(n)},t.prototype.elementMatched=function(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)},t.prototype.elementUnmatched=function(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)},t.prototype.elementAttributeChanged=function(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)},t}(),p=function(){function t(t,e){var n=this;this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((function(t){return n.processMutations(t)}))}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started)for(var t=0,e=this.knownAttributeNames;t<e.length;t++){var n=e[t];this.refreshAttribute(n)}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,n=t;e<n.length;e++){var r=n[e];this.processMutation(r)}},t.prototype.processMutation=function(t){var e=t.attributeName;e&&this.refreshAttribute(e)},t.prototype.refreshAttribute=function(t){var e=this.delegate.getStringMapKeyForAttribute(t);if(null!=e){this.stringMap.has(t)||this.stringMapKeyAdded(e,t);var n=this.element.getAttribute(t);this.stringMap.get(t)!=n&&this.stringMapValueChanged(n,e),null==n?(this.stringMap.delete(t),this.stringMapKeyRemoved(e,t)):this.stringMap.set(t,n)}},t.prototype.stringMapKeyAdded=function(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)},t.prototype.stringMapValueChanged=function(t,e){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e)},t.prototype.stringMapKeyRemoved=function(t,e){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e)},Object.defineProperty(t.prototype,"knownAttributeNames",{get:function(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentAttributeNames",{get:function(){return Array.from(this.element.attributes).map((function(t){return t.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recordedAttributeNames",{get:function(){return Array.from(this.stringMap.keys())},enumerable:!1,configurable:!0}),t}();function f(t,e,n){g(t,e).add(n)}function d(t,e,n){g(t,e).delete(n),function(t,e){var n=t.get(e);null!=n&&0==n.size&&t.delete(e)}(t,e)}function g(t,e){var n=t.get(e);return n||(n=new Set,t.set(e,n)),n}var y,m=function(){function t(){this.valuesByKey=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t.concat(Array.from(e))}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t+e.size}),0)},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){f(this.valuesByKey,t,e)},t.prototype.delete=function(t,e){d(this.valuesByKey,t,e)},t.prototype.has=function(t,e){var n=this.valuesByKey.get(t);return null!=n&&n.has(e)},t.prototype.hasKey=function(t){return this.valuesByKey.has(t)},t.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some((function(e){return e.has(t)}))},t.prototype.getValuesForKey=function(t){var e=this.valuesByKey.get(t);return e?Array.from(e):[]},t.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter((function(e){return e[0],e[1].has(t)})).map((function(t){var e=t[0];return t[1],e}))},t}(),b=(y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=(function(t){function e(){var e=t.call(this)||this;return e.keysByValue=new Map,e}b(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!1,configurable:!0}),e.prototype.add=function(e,n){t.prototype.add.call(this,e,n),f(this.keysByValue,n,e)},e.prototype.delete=function(e,n){t.prototype.delete.call(this,e,n),d(this.keysByValue,n,e)},e.prototype.hasValue=function(t){return this.keysByValue.has(t)},e.prototype.getKeysForValue=function(t){var e=this.keysByValue.get(t);return e?Array.from(e):[]}}(m),function(){function t(t,e,n){this.attributeObserver=new h(t,e,this),this.delegate=n,this.tokensByElement=new m}return Object.defineProperty(t.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.attributeObserver.start()},t.prototype.stop=function(){this.attributeObserver.stop()},t.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.elementMatchedAttribute=function(t){this.tokensMatched(this.readTokensForElement(t))},t.prototype.elementAttributeValueChanged=function(t){var e=this.refreshTokensForElement(t),n=e[0],r=e[1];this.tokensUnmatched(n),this.tokensMatched(r)},t.prototype.elementUnmatchedAttribute=function(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))},t.prototype.tokensMatched=function(t){var e=this;t.forEach((function(t){return e.tokenMatched(t)}))},t.prototype.tokensUnmatched=function(t){var e=this;t.forEach((function(t){return e.tokenUnmatched(t)}))},t.prototype.tokenMatched=function(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)},t.prototype.tokenUnmatched=function(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)},t.prototype.refreshTokensForElement=function(t){var e,n,r,i=this.tokensByElement.getValuesForKey(t),o=this.readTokensForElement(t),s=(e=i,n=o,r=Math.max(e.length,n.length),Array.from({length:r},(function(t,r){return[e[r],n[r]]}))).findIndex((function(t){return!function(t,e){return t&&e&&t.index==e.index&&t.content==e.content}(t[0],t[1])}));return-1==s?[[],[]]:[i.slice(s),o.slice(s)]},t.prototype.readTokensForElement=function(t){var e=this.attributeName;return function(t,e,n){return t.trim().split(/\s+/).filter((function(t){return t.length})).map((function(t,r){return{element:e,attributeName:n,content:t,index:r}}))}(t.getAttribute(e)||"",t,e)},t}()),w=function(){function t(t,e,n){this.tokenListObserver=new v(t,e,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(t.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.tokenListObserver.start()},t.prototype.stop=function(){this.tokenListObserver.stop()},t.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!1,configurable:!0}),t.prototype.tokenMatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).set(t,n),this.delegate.elementMatchedValue(e,n))},t.prototype.tokenUnmatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,n))},t.prototype.fetchParseResultForToken=function(t){var e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e},t.prototype.fetchValuesByTokenForElement=function(t){var e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e},t.prototype.parseToken=function(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}},t}(),O=function(){function t(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}return t.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new w(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.context.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!1,configurable:!0}),t.prototype.connectAction=function(t){var e=new u(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)},t.prototype.disconnectAction=function(t){var e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))},t.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach((function(e){return t.delegate.bindingDisconnected(e)})),this.bindingsByAction.clear()},t.prototype.parseValueForToken=function(t){var e=s.forToken(t);if(e.identifier==this.identifier)return e},t.prototype.elementMatchedValue=function(t,e){this.connectAction(e)},t.prototype.elementUnmatchedValue=function(t,e){this.disconnectAction(e)},t}(),T=function(){function t(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new p(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}return t.prototype.start=function(){this.stringMapObserver.start()},t.prototype.stop=function(){this.stringMapObserver.stop()},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!1,configurable:!0}),t.prototype.getStringMapKeyForAttribute=function(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name},t.prototype.stringMapValueChanged=function(t,e){this.invokeChangedCallbackForValue(e)},t.prototype.invokeChangedCallbacksForDefaultValues=function(){for(var t=0,e=this.valueDescriptors;t<e.length;t++){var n=e[t],r=n.key,i=n.name;null==n.defaultValue||this.controller.data.has(r)||this.invokeChangedCallbackForValue(i)}},t.prototype.invokeChangedCallbackForValue=function(t){var e=t+"Changed",n=this.receiver[e];if("function"==typeof n){var r=this.receiver[t];n.call(this.receiver,r)}},Object.defineProperty(t.prototype,"valueDescriptors",{get:function(){var t=this.valueDescriptorMap;return Object.keys(t).map((function(e){return t[e]}))},enumerable:!1,configurable:!0}),t}(),k=function(){function t(t,e){this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new O(this,this.dispatcher),this.valueObserver=new T(this,this.controller);try{this.controller.initialize()}catch(t){this.handleError(t,"initializing controller")}}return t.prototype.connect=function(){this.bindingObserver.start(),this.valueObserver.start();try{this.controller.connect()}catch(t){this.handleError(t,"connecting controller")}},t.prototype.disconnect=function(){try{this.controller.disconnect()}catch(t){this.handleError(t,"disconnecting controller")}this.valueObserver.stop(),this.bindingObserver.stop()},Object.defineProperty(t.prototype,"application",{get:function(){return this.module.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!1,configurable:!0}),t.prototype.handleError=function(t,e,n){void 0===n&&(n={});var r=this,i=r.identifier,o=r.controller,s=r.element;n=Object.assign({identifier:i,controller:o,element:s},n),this.application.handleError(t,"Error "+e,n)},t}();function x(t,e){var n=E(t);return Array.from(n.reduce((function(t,n){return function(t,e){var n=t[e];return Array.isArray(n)?n:[]}(n,e).forEach((function(e){return t.add(e)})),t}),new Set))}function E(t){for(var e=[];t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}var j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var A="function"==typeof Object.getOwnPropertySymbols?function(t){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,P=function(){function t(t){function e(){var n=this&&this instanceof e?this.constructor:void 0;return Reflect.construct(t,arguments,n)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return(e=t((function(){this.a.call(this)}))).prototype.a=function(){},new e,t}catch(t){return function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e}(t)}}var e}(),S=function(){function t(t,e){this.application=t,this.definition=function(t){return{identifier:t.identifier,controllerConstructor:(e=t.controllerConstructor,function(t,e){var n=P(t),r=function(t,e){return A(e).reduce((function(n,r){var i,o=function(t,e,n){var r=Object.getOwnPropertyDescriptor(t,n);if(!r||!("value"in r)){var i=Object.getOwnPropertyDescriptor(e,n).value;return r&&(i.get=r.get||i.get,i.set=r.set||i.set),i}}(t,e,r);return o&&Object.assign(n,((i={})[r]=o,i)),n}),{})}(t.prototype,e);return Object.defineProperties(n.prototype,r),n}(e,function(t){return x(t,"blessings").reduce((function(e,n){var r=n(t);for(var i in r){var o=e[i]||{};e[i]=Object.assign(o,r[i])}return e}),{})}(e)))};var e}(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!1,configurable:!0}),t.prototype.connectContextForScope=function(t){var e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()},t.prototype.disconnectContextForScope=function(t){var e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())},t.prototype.fetchContextForScope=function(t){var e=this.contextsByScope.get(t);return e||(e=new k(this,t),this.contextsByScope.set(t,e)),e},t}(),M=function(){function t(t){this.scope=t}return t.prototype.has=function(t){return this.data.has(this.getDataKey(t))},t.prototype.get=function(t){return this.data.get(this.getDataKey(t))},t.prototype.getAttributeName=function(t){return this.data.getAttributeNameForKey(this.getDataKey(t))},t.prototype.getDataKey=function(t){return t+"-class"},Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t}();function N(t){return t.charAt(0).toUpperCase()+t.slice(1)}function R(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}var B=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)},t.prototype.set=function(t,e){var n=this.getAttributeNameForKey(t);return this.element.setAttribute(n,e),this.get(t)},t.prototype.has=function(t){var e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)},t.prototype.delete=function(t){if(this.has(t)){var e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}return!1},t.prototype.getAttributeNameForKey=function(t){return"data-"+this.identifier+"-"+R(t)},t}(),F=function(){function t(t){this.warnedKeysByObject=new WeakMap,this.logger=t}return t.prototype.warn=function(t,e,n){var r=this.warnedKeysByObject.get(t);r||(r=new Set,this.warnedKeysByObject.set(t,r)),r.has(e)||(r.add(e),this.logger.warn(n,t))},t}();function L(t,e){return"["+t+'~="'+e+'"]'}var C=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},_=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return null!=this.find(t)},t.prototype.find=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce((function(e,n){return e||t.findTarget(n)||t.findLegacyTarget(n)}),void 0)},t.prototype.findAll=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.reduce((function(e,n){return C(e,t.findAllTargets(n),t.findAllLegacyTargets(n))}),[])},t.prototype.findTarget=function(t){var e=this.getSelectorForTargetName(t);return this.scope.findElement(e)},t.prototype.findAllTargets=function(t){var e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)},t.prototype.getSelectorForTargetName=function(t){return L("data-"+this.identifier+"-target",t)},t.prototype.findLegacyTarget=function(t){var e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)},t.prototype.findAllLegacyTargets=function(t){var e=this,n=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(n).map((function(n){return e.deprecate(n,t)}))},t.prototype.getLegacySelectorForTargetName=function(t){var e=this.identifier+"."+t;return L(this.schema.targetAttribute,e)},t.prototype.deprecate=function(t,e){if(t){var n=this.identifier,r=this.schema.targetAttribute;this.guide.warn(t,"target:"+e,"Please replace "+r+'="'+n+"."+e+'" with data-'+n+'-target="'+e+'". The '+r+" attribute is deprecated and will be removed in a future version of Stimulus.")}return t},Object.defineProperty(t.prototype,"guide",{get:function(){return this.scope.guide},enumerable:!1,configurable:!0}),t}(),q=function(){function t(t,e,n,r){var i=this;this.targets=new _(this),this.classes=new M(this),this.data=new B(this),this.containsElement=function(t){return t.closest(i.controllerSelector)===i.element},this.schema=t,this.element=e,this.identifier=n,this.guide=new F(r)}return t.prototype.findElement=function(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)},t.prototype.findAllElements=function(t){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}(this.element.matches(t)?[this.element]:[],this.queryElements(t).filter(this.containsElement))},t.prototype.queryElements=function(t){return Array.from(this.element.querySelectorAll(t))},Object.defineProperty(t.prototype,"controllerSelector",{get:function(){return L(this.schema.controllerAttribute,this.identifier)},enumerable:!1,configurable:!0}),t}(),I=function(){function t(t,e,n){this.element=t,this.schema=e,this.delegate=n,this.valueListObserver=new w(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return t.prototype.start=function(){this.valueListObserver.start()},t.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),t.prototype.parseValueForToken=function(t){var e=t.element,n=t.content,r=this.fetchScopesByIdentifierForElement(e),i=r.get(n);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,n),r.set(n,i)),i},t.prototype.elementMatchedValue=function(t,e){var n=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,n),1==n&&this.delegate.scopeConnected(e)},t.prototype.elementUnmatchedValue=function(t,e){var n=this.scopeReferenceCounts.get(e);n&&(this.scopeReferenceCounts.set(e,n-1),1==n&&this.delegate.scopeDisconnected(e))},t.prototype.fetchScopesByIdentifierForElement=function(t){var e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e},t}(),V=function(){function t(t){this.application=t,this.scopeObserver=new I(this.element,this.schema,this),this.scopesByIdentifier=new m,this.modulesByIdentifier=new Map}return Object.defineProperty(t.prototype,"element",{get:function(){return this.application.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this.application.logger},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return this.modules.reduce((function(t,e){return t.concat(e.contexts)}),[])},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.scopeObserver.start()},t.prototype.stop=function(){this.scopeObserver.stop()},t.prototype.loadDefinition=function(t){this.unloadIdentifier(t.identifier);var e=new S(this.application,t);this.connectModule(e)},t.prototype.unloadIdentifier=function(t){var e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)},t.prototype.getContextForElementAndIdentifier=function(t,e){var n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find((function(e){return e.element==t}))},t.prototype.handleError=function(t,e,n){this.application.handleError(t,e,n)},t.prototype.createScopeForElementAndIdentifier=function(t,e){return new q(this.schema,t,e,this.logger)},t.prototype.scopeConnected=function(t){this.scopesByIdentifier.add(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)},t.prototype.scopeDisconnected=function(t){this.scopesByIdentifier.delete(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)},t.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.connectContextForScope(e)}))},t.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.disconnectContextForScope(e)}))},t}(),D={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},$=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},K=function(){function t(t,e){void 0===t&&(t=document.documentElement),void 0===e&&(e=D),this.logger=console,this.element=t,this.schema=e,this.dispatcher=new i(this),this.router=new V(this)}return t.start=function(e,n){var r=new t(e,n);return r.start(),r},t.prototype.start=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",t):t()}))];case 1:return t.sent(),this.dispatcher.start(),this.router.start(),[2]}}))},new((n=void 0)||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r},t.prototype.stop=function(){this.dispatcher.stop(),this.router.stop()},t.prototype.register=function(t,e){this.load({identifier:t,controllerConstructor:e})},t.prototype.load=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Array.isArray(t)?t:$([t],n);i.forEach((function(t){return e.router.loadDefinition(t)}))},t.prototype.unload=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=Array.isArray(t)?t:$([t],n);i.forEach((function(t){return e.router.unloadIdentifier(t)}))},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map((function(t){return t.controller}))},enumerable:!1,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(t,e){var n=this.router.getContextForElementAndIdentifier(t,e);return n?n.controller:null},t.prototype.handleError=function(t,e,n){this.logger.error("%s\n\n%o\n\n%o",e,t,n)},t}();function U(t){return x(t,"classes").reduce((function(t,e){return Object.assign(t,((r={})[i=(n=e)+"Class"]={get:function(){var t=this.classes;if(t.has(n))return t.get(n);var e=t.getAttributeName(n);throw new Error('Missing attribute "'+e+'"')}},r["has"+N(i)]={get:function(){return this.classes.has(n)}},r));var n,r,i}),{})}function z(t){return x(t,"targets").reduce((function(t,e){return Object.assign(t,((r={})[(n=e)+"Target"]={get:function(){var t=this.targets.find(n);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+n+'"')}},r[n+"Targets"]={get:function(){return this.targets.findAll(n)}},r["has"+N(n)+"Target"]={get:function(){return this.targets.has(n)}},r));var n,r}),{})}function H(t){var e=function(t,e){return E(t).reduce((function(t,n){return t.push.apply(t,function(t,e){var n=t[e];return n?Object.keys(n).map((function(t){return[t,n[t]]})):[]}(n,e)),t}),[])}(t,"values"),n={valueDescriptorMap:{get:function(){var t=this;return e.reduce((function(e,n){var r,i=W(n),o=t.data.getAttributeNameForKey(i.key);return Object.assign(e,((r={})[o]=i,r))}),{})}}};return e.reduce((function(t,e){return Object.assign(t,function(t){var e,n=W(t),r=n.type,i=n.key,o=n.name,s=J[r],a=Y[r]||Y.default;return(e={})[o]={get:function(){var t=this.data.get(i);return null!==t?s(t):n.defaultValue},set:function(t){void 0===t?this.data.delete(i):this.data.set(i,a(t))}},e["has"+N(o)]={get:function(){return this.data.has(i)}},e}(e))}),n)}function W(t){return e=t[0],n=function(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}throw new Error('Unknown value type constant "'+t+'"')}(t[1]),i=R(e)+"-value",{type:n,key:i,name:(r=i,r.replace(/(?:[_-])([a-z0-9])/g,(function(t,e){return e.toUpperCase()}))),get defaultValue(){return Q[n]}};var e,n,r,i}var Q={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},J={array:function(t){var e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError("Expected array");return e},boolean:function(t){return!("0"==t||"false"==t)},number:function(t){return parseFloat(t)},object:function(t){var e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError("Expected object");return e},string:function(t){return t}},Y={default:function(t){return""+t},array:Z,object:Z};function Z(t){return JSON.stringify(t)}var G=function(){function t(t){this.context=t}return Object.defineProperty(t.prototype,"application",{get:function(){return this.context.application},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){return this.scope.classes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!1,configurable:!0}),t.prototype.initialize=function(){},t.prototype.connect=function(){},t.prototype.disconnect=function(){},t.blessings=[U,z,H],t.targets=[],t.values={},t}()},479:(t,e,n)=>{var r={"./classer-inview_controller.js":828,"./classer_controller.js":273,"./copy-text_controller.js":580,"./hello_controller.js":507,"./liquid_controller.js":642};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=479}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=n(931).Mx.start(),e=n(479);t.load(function(t){return t.keys().map((function(e){return function(t,e){var n=function(t){var e=(t.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}(e);if(n)return function(t,e){var n=t.default;if("function"==typeof n)return{identifier:e,controllerConstructor:n}}(t(e),n)}(t,e)})).filter((function(t){return t}))}(e))})()})();